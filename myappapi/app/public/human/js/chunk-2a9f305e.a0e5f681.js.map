{"version":3,"sources":["webpack:///./src/http/position.ts","webpack:///./src/views/posttransfer/Insert.vue?7b41","webpack:///./src/views/posttransfer/Insert.vue","webpack:///./src/views/posttransfer/Insert.vue?b862","webpack:///./src/http/posttransfer.ts","webpack:///./src/http/department.ts"],"names":["url","handlerGetPositionList","did","get","handlerOneGetAllNames","pid","put","handlerPoaitionList","_hoisted_1","render","_ctx","_cache","$props","$setup","$data","$options","_component_el_date_picker","_component_el_col","_component_el_form_item","_component_el_input","_component_el_option","_component_el_select","_component_el_form","_component_el_button","model","posttransferForm","rules","posttransferRules","ref","default","label","prop","span","type","placeholder","modelValue","filingdate","$event","style","_","snumber","inline","onChange","handlerPositionList","departmentList","item","key","dname","value","positionList","pname","sname","sinduction","ptreason","setPtreason","ptreasonForm","id","names","ptreasonVisible","otherptreason","newdid","handlerNewPositionList","newpid","onClick","handlerPosttransferSubmit","data","setup","required","message","trigger","min","max","posttransferformdom","initData","then","res","catch","err","console","log","code","warning","msg","validate","valid","success","__exports__","handlerPosttransferInsert","post","handlerPosttransferTable","params","handlerPosttransferUpdate","ptid","handlerPosttransferDelete","delete","handlerPosttransferShow","handlerPtstateUpdate","handlerDepartmentInsert","handlerDepartmentTable","handlerDepartmentShow","handlerDepartmentUpdate","handlerDepartmentDelete","handlerDepartmentList"],"mappings":"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","file":"js/chunk-2a9f305e.a0e5f681.js","sourcesContent":["import instance from \"./http\";\r\nconst url = '/admin/position';\r\nimport { returnPromise } from '../type/base';\r\n\r\nfunction handlerGetPositionList(did:string):returnPromise{\r\n    return instance.get(url+'/'+ did);\r\n}\r\n\r\nfunction handlerOneGetAllNames(pid:string):returnPromise {\r\n    return instance.put(url+'/'+pid);\r\n}\r\n\r\nfunction handlerPoaitionList():returnPromise {\r\n    return instance.get(url+'/new');\r\n}\r\nexport {\r\n    handlerGetPositionList,\r\n    handlerOneGetAllNames,\r\n    handlerPoaitionList\r\n}","import { resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode } from \"vue\"\n\nconst _hoisted_1 = /*#__PURE__*/_createTextVNode(\"提交\")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_el_date_picker = _resolveComponent(\"el-date-picker\")!\n  const _component_el_col = _resolveComponent(\"el-col\")!\n  const _component_el_form_item = _resolveComponent(\"el-form-item\")!\n  const _component_el_input = _resolveComponent(\"el-input\")!\n  const _component_el_option = _resolveComponent(\"el-option\")!\n  const _component_el_select = _resolveComponent(\"el-select\")!\n  const _component_el_form = _resolveComponent(\"el-form\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", null, [\n    _createVNode(_component_el_form, {\n      model: _ctx.posttransferForm,\n      rules: _ctx.posttransferRules,\n      ref: \"posttransferformdom\"\n    }, {\n      default: _withCtx(() => [\n        _createVNode(_component_el_form_item, {\n          label: \"申请时间\",\n          prop: \"filingdate\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_col, { span: 11 }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_date_picker, {\n                  type: \"date\",\n                  placeholder: \"选择日期\",\n                  modelValue: _ctx.posttransferForm.filingdate,\n                  \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.posttransferForm.filingdate) = $event)),\n                  style: {\"width\":\"100%\"}\n                }, null, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_el_form_item, {\n          label: \"职工编号\",\n          prop: \"snumber\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_input, {\n              modelValue: _ctx.posttransferForm.snumber,\n              \"onUpdate:modelValue\": _cache[1] || (_cache[1] = ($event: any) => ((_ctx.posttransferForm.snumber) = $event))\n            }, null, 8, [\"modelValue\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_el_form, { inline: true }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_form_item, {\n              label: \"职工部门\",\n              prop: \"did\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_select, {\n                  modelValue: _ctx.posttransferForm.did,\n                  \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.posttransferForm.did) = $event)),\n                  placeholder: \"请选择职工部门\",\n                  onChange: _ctx.handlerPositionList\n                }, {\n                  default: _withCtx(() => [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.departmentList, (item) => {\n                      return (_openBlock(), _createBlock(_component_el_option, {\n                        key: 'department' + item.did,\n                        label: item.dname,\n                        value: item.did\n                      }, null, 8, [\"label\", \"value\"]))\n                    }), 128))\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\", \"onChange\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_form_item, {\n              label: \"职工职位\",\n              prop: \"did\"\n            }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_select, {\n                  modelValue: _ctx.posttransferForm.pid,\n                  \"onUpdate:modelValue\": _cache[3] || (_cache[3] = ($event: any) => ((_ctx.posttransferForm.pid) = $event)),\n                  placeholder: \"请选择职工职位\"\n                }, {\n                  default: _withCtx(() => [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.positionList, (item) => {\n                      return (_openBlock(), _createBlock(_component_el_option, {\n                        key: 'position' + item.pid,\n                        label: item.pname,\n                        value: item.pid\n                      }, null, 8, [\"label\", \"value\"]))\n                    }), 128))\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_el_form_item, {\n          label: \"职工姓名\",\n          prop: \"sname\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_input, {\n              modelValue: _ctx.posttransferForm.sname,\n              \"onUpdate:modelValue\": _cache[4] || (_cache[4] = ($event: any) => ((_ctx.posttransferForm.sname) = $event))\n            }, null, 8, [\"modelValue\"])\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_el_form_item, {\n          label: \"入职时间\",\n          prop: \"sinduction\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_col, { span: 11 }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_date_picker, {\n                  type: \"date\",\n                  placeholder: \"选择日期\",\n                  modelValue: _ctx.posttransferForm.sinduction,\n                  \"onUpdate:modelValue\": _cache[5] || (_cache[5] = ($event: any) => ((_ctx.posttransferForm.sinduction) = $event)),\n                  style: {\"width\":\"100%\"}\n                }, null, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_el_form_item, {\n          label: \"转岗原因\",\n          prop: \"did\"\n        }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_select, {\n              modelValue: _ctx.posttransferForm.ptreason,\n              \"onUpdate:modelValue\": _cache[6] || (_cache[6] = ($event: any) => ((_ctx.posttransferForm.ptreason) = $event)),\n              onChange: _ctx.setPtreason,\n              placeholder: \"请选择转岗原因\"\n            }, {\n              default: _withCtx(() => [\n                (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.ptreasonForm, (item) => {\n                  return (_openBlock(), _createBlock(_component_el_option, {\n                    key: 'posttransfer' + item.id,\n                    label: item.names,\n                    value: item.names\n                  }, null, 8, [\"label\", \"value\"]))\n                }), 128))\n              ]),\n              _: 1\n            }, 8, [\"modelValue\", \"onChange\"])\n          ]),\n          _: 1\n        }),\n        (_ctx.ptreasonVisible)\n          ? (_openBlock(), _createBlock(_component_el_form_item, { key: 0 }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_input, {\n                  modelValue: _ctx.otherptreason,\n                  \"onUpdate:modelValue\": _cache[7] || (_cache[7] = ($event: any) => ((_ctx.otherptreason) = $event))\n                }, null, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            }))\n          : _createCommentVNode(\"\", true),\n        _createVNode(_component_el_form, { inline: true }, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_form_item, { label: \"转入部门\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_select, {\n                  modelValue: _ctx.posttransferForm.newdid,\n                  \"onUpdate:modelValue\": _cache[8] || (_cache[8] = ($event: any) => ((_ctx.posttransferForm.newdid) = $event)),\n                  placeholder: \"请选择转入部门\",\n                  onChange: _ctx.handlerNewPositionList\n                }, {\n                  default: _withCtx(() => [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.departmentList, (item) => {\n                      return (_openBlock(), _createBlock(_component_el_option, {\n                        key: 'department' + item.did,\n                        label: item.dname,\n                        value: item.did\n                      }, null, 8, [\"label\", \"value\"]))\n                    }), 128))\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\", \"onChange\"])\n              ]),\n              _: 1\n            }),\n            _createVNode(_component_el_form_item, { label: \"转入职位\" }, {\n              default: _withCtx(() => [\n                _createVNode(_component_el_select, {\n                  modelValue: _ctx.posttransferForm.newpid,\n                  \"onUpdate:modelValue\": _cache[9] || (_cache[9] = ($event: any) => ((_ctx.posttransferForm.newpid) = $event)),\n                  placeholder: \"请选择转入职工职位\"\n                }, {\n                  default: _withCtx(() => [\n                    (_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.positionList, (item) => {\n                      return (_openBlock(), _createBlock(_component_el_option, {\n                        key: 'position' + item.pid,\n                        label: item.pname,\n                        value: item.pid\n                      }, null, 8, [\"label\", \"value\"]))\n                    }), 128))\n                  ]),\n                  _: 1\n                }, 8, [\"modelValue\"])\n              ]),\n              _: 1\n            })\n          ]),\n          _: 1\n        }),\n        _createVNode(_component_el_form_item, null, {\n          default: _withCtx(() => [\n            _createVNode(_component_el_button, {\n              type: \"primary\",\n              onClick: _ctx.handlerPosttransferSubmit\n            }, {\n              default: _withCtx(() => [\n                _hoisted_1\n              ]),\n              _: 1\n            }, 8, [\"onClick\"])\n          ]),\n          _: 1\n        })\n      ]),\n      _: 1\n    }, 8, [\"model\", \"rules\"])\n  ]))\n}","\r\nimport { defineComponent, onMounted, reactive, ref, Ref } from \"vue\";\r\nimport { PosttransferForm } from \"@/type/posttransfer\";\r\nimport { ElMessage } from \"element-plus\";\r\nimport { SUCCESS } from \"@/config\";\r\nimport { handlerPosttransferInsert } from \"@/http/posttransfer\";\r\nimport { PositionList } from \"../../type/position\";\r\nimport { DepartmentTable } from \"../../type/department\";\r\nimport { handlerDepartmentList } from \"../../http/department\";\r\nimport { handlerGetPositionList } from \"../../http/position\";\r\nexport default defineComponent({\r\n  data() {\r\n    return {};\r\n  },\r\n  setup() {\r\n    let posttransferForm = reactive<PosttransferForm>({\r\n      sname: \"\",\r\n      did: \"\",\r\n      pid: \"\",\r\n      filingdate: \"\",\r\n      snumber: \"\",\r\n      sinduction: \"\",\r\n      newdid: \"\",\r\n      newpid: \"\",\r\n      ptreason: \"\",\r\n    });\r\n    let posttransferRules = {\r\n      sname: [\r\n        { required: true, message: \"员工姓名\", trigger: \"blur\" },\r\n        { min: 1, max: 20, message: \"长度在1-11个字符\", trigger: \"blur\" },\r\n      ],\r\n      did: [{ required: true, message: \"所属部门必填\", trigger: \"blur\" }],\r\n      pid: [\r\n        { required: true, message: \"所属岗位必填\", trigger: \"blur\" },\r\n        { min: 1, max: 20, message: \"长度在1-20个字符\", trigger: \"blur\" },\r\n      ],\r\n      filingdate: [\r\n        { required: true, message: \"申请调岗时间必填\", trigger: \"blur\" },\r\n      ],\r\n      snumber: [{ required: true, message: \"员工编号必填\", trigger: \"blur\" }],\r\n      sinduction: [\r\n        { required: true, message: \"入职时间必填\", trigger: \"blur\" },\r\n      ],\r\n      newdid: [{ required: true, message: \"转入部门必填\", trigger: \"blur\" }],\r\n      newpid: [{ required: true, message: \"转入职位必填\", trigger: \"blur\" }],\r\n      ptreason: [{ required: true, message: \"调岗原因必填\", trigger: \"blur\" }],\r\n    };\r\n    let ptreasonForm = reactive([\r\n      { id: \"1\", names: \"个人申请\" },\r\n      { id: \"2\", names: \"岗位需求\" },\r\n      { id: \"3\", names: \"公司安排\" },\r\n      { id: \"4\", names: \"其他\" },\r\n    ]);\r\n    let posttransferformdom: Ref = ref();\r\n    let otherptreason: Ref = ref();\r\n    // 获取部门和岗位\r\n    let departmentList = ref<DepartmentTable>();\r\n    let positionList = ref<PositionList>();\r\n    // 选择转岗显示输入框\r\n\r\n    let ptreasonVisible = ref(false); //控制输入框显示\r\n\r\n    let initData = () => {\r\n      // 部门\r\n      handlerDepartmentList()\r\n        .then((res) => {\r\n          departmentList.value = res.data.data as DepartmentTable;\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    };\r\n    let handlerPositionList = () => {\r\n      handlerGetPositionList(posttransferForm.did)\r\n        .then((res) => {\r\n          if (res.data.code === SUCCESS) {\r\n            posttransferForm.pid = \"\";\r\n            positionList.value = res.data.data as PositionList;\r\n          } else {\r\n            ElMessage.warning(res.data.msg);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    };\r\n   let handlerNewPositionList = () => {\r\n      handlerGetPositionList(posttransferForm.newdid)\r\n        .then((res) => {\r\n          if (res.data.code === SUCCESS) {\r\n            posttransferForm.newpid = \"\";\r\n            positionList.value = res.data.data as PositionList;\r\n          } else {\r\n            ElMessage.warning(res.data.msg);\r\n          }\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        });\r\n    };\r\n    // handlerNewPositionList\r\n\r\n    // -------------------------添加--------------------------\r\n    let handlerPosttransferSubmit = () => {\r\n      posttransferformdom.value.validate((valid: boolean) => {\r\n        if (posttransferForm.ptreason === \"其他\") {\r\n          posttransferForm.ptreason = otherptreason.value;\r\n        }\r\n        if (!valid) return;\r\n        handlerPosttransferInsert(posttransferForm)\r\n          .then((res) => {\r\n            if (res.data.code === SUCCESS) {\r\n              ElMessage.success(res.data.msg);\r\n            } else {\r\n              ElMessage.warning(res.data.msg);\r\n            }\r\n          })\r\n          .catch((err) => {\r\n            console.log(err);\r\n          });\r\n      });\r\n    };\r\n\r\n    let setPtreason = () => {\r\n      if (posttransferForm.ptreason === \"其他\") {\r\n        ptreasonVisible.value = true;\r\n      } else {\r\n        ptreasonVisible.value = false;\r\n      }\r\n    };\r\n    onMounted(() => {\r\n      initData();\r\n    });\r\n    return {\r\n      posttransferForm,\r\n      posttransferRules,\r\n      ptreasonForm,\r\n      posttransferformdom,\r\n      handlerPosttransferSubmit,\r\n      handlerPositionList,\r\n      handlerNewPositionList,\r\n      initData,\r\n      departmentList,\r\n      positionList,\r\n      setPtreason,\r\n      ptreasonVisible,\r\n      otherptreason,\r\n    };\r\n  },\r\n});\r\n","import { render } from \"./Insert.vue?vue&type=template&id=4720591d&ts=true\"\nimport script from \"./Insert.vue?vue&type=script&lang=ts\"\nexport * from \"./Insert.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"C:\\\\Users\\\\Administrator\\\\Desktop\\\\VUE3\\\\humanresources\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import instance from \"./http\";\r\nimport {PosttransferForm} from \"../type/posttransfer\"\r\nimport { returnPromise } from '../type/base'\r\nconst url = '/admin/posttransfer';\r\n\r\n\r\n// 调岗记录添加\r\nfunction handlerPosttransferInsert(data:PosttransferForm):returnPromise {\r\n    return instance.post(url,data)\r\n}\r\nfunction handlerPosttransferTable(data:any):returnPromise {\r\n    return instance.get(url, {\r\n        params: data\r\n    });\r\n}\r\nfunction handlerPosttransferUpdate(ptid:string,data:PosttransferForm):returnPromise {\r\n    return instance.put(url+'/'+ptid, data);\r\n}\r\nfunction handlerPosttransferDelete(ptid:number):returnPromise {\r\n    return instance.delete(url+'/'+ptid);\r\n}\r\nfunction handlerPosttransferShow(ptid:string):returnPromise {\r\n    return instance.get(url+'/'+ptid);\r\n}\r\nfunction handlerPtstateUpdate(ptid:number):returnPromise {\r\n    return instance.put(url+'/'+ptid);\r\n}\r\nexport{\r\n    handlerPosttransferShow,\r\n    handlerPosttransferInsert,\r\n    handlerPosttransferTable,\r\n    handlerPosttransferDelete,\r\n    handlerPosttransferUpdate,\r\n    handlerPtstateUpdate\r\n\r\n}","import instance from \"./http\";\r\nimport { DepartmentForm } from '../type/department'\r\nimport { returnPromise } from '../type/base'\r\nconst url = '/admin/department';\r\n\r\nfunction handlerDepartmentInsert(data:DepartmentForm): returnPromise {\r\n    return instance.post(url,data)\r\n}\r\n\r\nfunction handlerDepartmentTable(data:any):returnPromise {\r\n    return instance.get(url, {\r\n        params: data\r\n    });\r\n}\r\n\r\nfunction handlerDepartmentShow(did:string):returnPromise {\r\n    return instance.get(url+'/'+did);\r\n}\r\n\r\nfunction handlerDepartmentUpdate(did:string,data:any):returnPromise{\r\n    return instance.put(url+'/'+did,data);\r\n}\r\n\r\nfunction handlerDepartmentDelete(did:string):returnPromise {\r\n    return instance.delete(url+'/'+did);\r\n}\r\n\r\nfunction handlerDepartmentList():returnPromise {\r\n    return instance.get(url+'/new');\r\n}\r\n\r\nexport {\r\n    handlerDepartmentInsert,\r\n    handlerDepartmentTable,\r\n    handlerDepartmentShow,\r\n    handlerDepartmentUpdate,\r\n    handlerDepartmentDelete,\r\n    handlerDepartmentList\r\n}"],"sourceRoot":""}