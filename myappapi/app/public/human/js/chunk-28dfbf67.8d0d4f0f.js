(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-28dfbf67"],{"0869":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return c}));var r=n("e293"),o="/admin/position";function a(e){return r["a"].get(o+"/"+e)}function u(e){return r["a"].put(o+"/"+e)}function c(){return r["a"].get(o+"/new")}},"0b42":function(e,t,n){var r=n("da84"),o=n("e8b5"),a=n("68ee"),u=n("861d"),c=n("b622"),l=c("species"),i=r.Array;e.exports=function(e){var t;return o(e)&&(t=e.constructor,a(t)&&(t===i||o(t.prototype))?t=void 0:u(t)&&(t=t[l],null===t&&(t=void 0))),void 0===t?i:t}},"3af4":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),o=Object(r["createTextVNode"])("提交");function a(e,t,n,a,u,c){var l=Object(r["resolveComponent"])("el-date-picker"),i=Object(r["resolveComponent"])("el-col"),d=Object(r["resolveComponent"])("el-form-item"),s=Object(r["resolveComponent"])("el-input"),f=Object(r["resolveComponent"])("el-option"),b=Object(r["resolveComponent"])("el-select"),p=Object(r["resolveComponent"])("el-form"),m=Object(r["resolveComponent"])("el-button");return Object(r["openBlock"])(),Object(r["createElementBlock"])("div",null,[Object(r["createVNode"])(p,{model:e.posttransferForm,rules:e.posttransferRules,ref:"posttransferformdom"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{label:"申请时间",prop:"filingdate"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{span:11},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{type:"date",placeholder:"选择日期",modelValue:e.posttransferForm.filingdate,"onUpdate:modelValue":t[0]||(t[0]=function(t){return e.posttransferForm.filingdate=t}),style:{width:"100%"}},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(r["createVNode"])(d,{label:"职工编号",prop:"snumber"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{modelValue:e.posttransferForm.snumber,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.posttransferForm.snumber=t})},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(d,{label:"职工姓名",prop:"sname"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{modelValue:e.posttransferForm.sname,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.posttransferForm.sname=t})},null,8,["modelValue"])]})),_:1}),Object(r["createVNode"])(d,{label:"入职时间",prop:"sinduction"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(i,{span:11},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(l,{type:"date",placeholder:"选择日期",modelValue:e.posttransferForm.sinduction,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.posttransferForm.sinduction=t}),style:{width:"100%"}},null,8,["modelValue"])]})),_:1})]})),_:1}),Object(r["createVNode"])(p,{inline:!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{label:"职工部门",prop:"did"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{modelValue:e.posttransferForm.did,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.posttransferForm.did=t}),placeholder:"请选择职工部门",onChange:e.handlerPositionList},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.departmentList,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:"department"+e.did,label:e.dname,value:e.did},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])]})),_:1}),Object(r["createVNode"])(d,{label:"职工职位",prop:"did"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{modelValue:e.posttransferForm.pid,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.posttransferForm.pid=t}),placeholder:"请选择职工职位"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.positionList,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:"position"+e.pid,label:e.pname,value:e.pid},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),Object(r["createVNode"])(d,{label:"转岗原因",prop:"did"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{modelValue:e.posttransferForm.ptreason,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.posttransferForm.ptreason=t}),onChange:e.setPtreason,placeholder:"请选择转岗原因"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.ptreasonForm,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:"posttransfer"+e.id,label:e.names,value:e.names},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])]})),_:1}),e.ptreasonVisible?(Object(r["openBlock"])(),Object(r["createBlock"])(d,{key:0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{modelValue:e.otherptreason,"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.otherptreason=t})},null,8,["modelValue"])]})),_:1})):Object(r["createCommentVNode"])("",!0),Object(r["createVNode"])(p,{inline:!0},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(d,{label:"转入部门"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{modelValue:e.posttransferForm.newdid,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.posttransferForm.newdid=t}),placeholder:"请选择转入部门",onChange:e.handlerPositionList},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.departmentList,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:"department"+e.did,label:e.dname,value:e.did},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])]})),_:1}),Object(r["createVNode"])(d,{label:"转入职位"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{modelValue:e.posttransferForm.newpid,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.posttransferForm.newpid=t}),placeholder:"请选择转入职工职位"},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createElementBlock"])(r["Fragment"],null,Object(r["renderList"])(e.positionList,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(f,{key:"position"+e.pid,label:e.pname,value:e.pid},null,8,["label","value"])})),128))]})),_:1},8,["modelValue"])]})),_:1})]})),_:1}),Object(r["createVNode"])(d,null,{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(m,{type:"primary",onClick:e.handlerPosttransferSubmit},{default:Object(r["withCtx"])((function(){return[o]})),_:1},8,["onClick"])]})),_:1})]})),_:1},8,["model","rules"])])}n("c740");var u=n("3ef4"),c=n("2de2"),l=n("5d5a"),i=n("9bf5"),d=n("0869"),s=n("6c02"),f=Object(r["defineComponent"])({data:function(){return{}},setup:function(){var e=Object(s["c"])(),t=Object(r["ref"])({sname:"",did:"",pid:"",filingdate:"",snumber:"",sinduction:"",newdid:"",newpid:"",ptreason:""}),n={sname:[{required:!0,message:"员工姓名",trigger:"blur"},{min:1,max:20,message:"长度在1-11个字符",trigger:"blur"}],did:[{required:!0,message:"所属部门必填",trigger:"blur"}],pid:[{required:!0,message:"所属岗位必填",trigger:"blur"},{min:1,max:20,message:"长度在1-20个字符",trigger:"blur"}],filingdate:[{required:!0,message:"申请调岗时间必填",trigger:"blur"}],snumber:[{required:!0,message:"员工编号必填",trigger:"blur"}],sinduction:[{required:!0,message:"入职时间必填",trigger:"blur"}],newdid:[{required:!0,message:"转入部门必填",trigger:"blur"}],newpid:[{required:!0,message:"转入职位必填",trigger:"blur"}],ptreason:[{required:!0,message:"调岗原因必填",trigger:"blur"}]},o=Object(r["reactive"])([{id:"1",names:"个人申请"},{id:"2",names:"岗位需求"},{id:"3",names:"公司安排"},{id:"4",names:"其他"}]),a=Object(r["ref"])(),f=Object(r["ref"])(),b=Object(r["ref"])(),p=Object(r["ref"])(),m=Object(r["ref"])(!1),j=function(){var n=e.query.ptid;Object(l["c"])(n).then((function(e){if(e.data.code===c["a"]){t.value=e.data.data;var n=o.findIndex((function(e){return e.names===t.value.ptreason}));n<0&&(f.value=t.value.ptreason,t.value.ptreason="其他",m.value=!0),O(t.value.did)}}))};Object(i["c"])().then((function(e){b.value=e.data.data})).catch((function(e){console.log(e)}));var O=function(e){Object(d["a"])(e).then((function(e){e.data.code===c["a"]?p.value=e.data.data:u["a"].warning(e.data.msg)})).catch((function(e){console.log(e)}))},g=function(){O(t.value.did)},v=function(){a.value.validate((function(e){"其他"===t.value.ptreason&&(t.value.ptreason=f.value),e&&Object(l["e"])(t.value.ptid,t.value).then((function(e){e.data.code===c["a"]?u["a"].success(e.data.msg):u["a"].warning(e.data.msg)})).catch((function(e){console.log(e)}))}))},h=function(){"其他"===t.value.ptreason?m.value=!0:m.value=!1};return Object(r["onMounted"])((function(){j()})),{posttransferForm:t,posttransferRules:n,ptreasonForm:o,posttransferformdom:a,handlerPosttransferSubmit:v,handlerPositionList:g,initData:j,departmentList:b,positionList:p,setPtreason:h,ptreasonVisible:m,otherptreason:f}}}),b=n("6b0d"),p=n.n(b);const m=p()(f,[["render",a]]);t["default"]=m},"5d5a":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"d",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return d}));var r=n("e293"),o="/admin/posttransfer";function a(e){return r["a"].post(o,e)}function u(e){return r["a"].get(o,{params:e})}function c(e,t){return r["a"].put(o+"/"+e,t)}function l(e){return r["a"].delete(o+"/"+e)}function i(e){return r["a"].get(o+"/"+e)}function d(e){return r["a"].put(o+"/"+e)}},"65f0":function(e,t,n){var r=n("0b42");e.exports=function(e,t){return new(r(e))(0===t?0:t)}},"9bf5":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return u})),n.d(t,"d",(function(){return c})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return d}));var r=n("e293"),o="/admin/department";function a(e){return r["a"].post(o,e)}function u(e){return r["a"].get(o,{params:e})}function c(e){return r["a"].get(o+"/"+e)}function l(e,t){return r["a"].put(o+"/"+e,t)}function i(e){return r["a"].delete(o+"/"+e)}function d(){return r["a"].get(o+"/new")}},b727:function(e,t,n){var r=n("0366"),o=n("e330"),a=n("44ad"),u=n("7b0b"),c=n("07fa"),l=n("65f0"),i=o([].push),d=function(e){var t=1==e,n=2==e,o=3==e,d=4==e,s=6==e,f=7==e,b=5==e||s;return function(p,m,j,O){for(var g,v,h=u(p),V=a(h),w=r(m,j),C=c(V),k=0,x=O||l,N=t?x(p,C):n||f?x(p,0):void 0;C>k;k++)if((b||k in V)&&(g=V[k],v=w(g,k,h),e))if(t)N[k]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return k;case 2:i(N,g)}else switch(e){case 4:return!1;case 7:i(N,g)}return s?-1:o||d?d:N}};e.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6),filterReject:d(7)}},c740:function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").findIndex,a=n("44d2"),u="findIndex",c=!0;u in[]&&Array(1)[u]((function(){c=!1})),r({target:"Array",proto:!0,forced:c},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a(u)},e8b5:function(e,t,n){var r=n("c6b6");e.exports=Array.isArray||function(e){return"Array"==r(e)}}}]);
//# sourceMappingURL=chunk-28dfbf67.8d0d4f0f.js.map